/*
  Current URL Change - jQuery Plugin (https://github.com/ucoder92/gp-link)
  Copyright (c) 2019 Ulugbek Nuriddinov (ucoder92@gmail.com)
  Licensed under the MIT license
  Version: 1.1.0
*/
function gplinkCheckURL(t){var a=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!a.test(t)}function gplinkGetParam(t){for(var a=window.location.search.substring(1),i=a.split("&"),l=0;l<i.length;l++){var n=i[l].split("=");if(n[0]==t)return n[1];if(""==n[1])return!0}return!1}function gplinkToggleParam(t,a){var i=window.location.href,l=gplinkGetParam(t);if(l){var n=i.replace(t+"="+l,t+"="+a);window.history.pushState({path:n},"",n)}else if(window.location.search){n=i+"&"+t+"="+a;window.history.pushState({path:n},"",n)}else{n=i+"?"+t+"="+a;window.history.pushState({path:n},"",n)}}function gplinkRemoveParam(t,a){if(null!=a&&""!=a)var i=a;else i=window.location.href;var l,n=i.split("?")[0],e=[],o=-1!==i.indexOf("?")?i.split("?")[1]:"";if(""!==o){e=o.split("&");for(var r=e.length-1;r>=0;r-=1)l=e[r].split("=")[0],l===t&&e.splice(r,1);e.length>0&&(n=n+"?"+e.join("&"))}window.history.pushState({path:n},"",n)}(function(t){var a=location.protocol+"//"+location.host+location.pathname;t.fn.gplink=function(i){this.click(function(l){l.preventDefault();var n="",e="",o={},r=t(this).attr("href"),h=t(this).attr("data-gplink-param"),p="",s=t(this).attr("data-gplink-value"),u="",f=t(this).attr("data-gplink-full"),c="";if("object"==typeof i&&(o=i),null!=o.type&&o.type&&(n=o.type),null!=r&&""!=r&&gplinkCheckURL(r)?e=r:null!=o.href&&""!=o.href&&gplinkCheckURL(o.href)?e=o.href:null!=o.default&&""!=o.default&&gplinkCheckURL(o.default)&&(e=o.default),null!=h&&""!=h&&(p=h),null!=s&&""!=s&&(u=s),null!=f&&""!=f&&(c=f,n||s&&s||(n="full")),e&&"full"==n)window.history.pushState({path:e},"",e);else if(p&&u)if("current"==c){var d=a+"?"+p+"="+u;window.history.pushState({path:d},"",d)}else if(gplinkCheckURL(c)){d=c+"?"+p+"="+u;window.history.pushState({path:d},"",d)}else{var w=window.location.href,g=gplinkGetParam(p);if(!1===g)if(location.search){var k=w+"&"+p+"="+u;window.history.pushState({path:k},"",k)}else{k=w+"?"+p+"="+u;window.history.pushState({path:k},"",k)}else{var v=location.href.replace(p+"="+g,p+"="+u);window.history.pushState({path:v},"",v)}}})};var i=t("[data-gplink-param], [data-gplink-full]");null!=i&&i.length>0&&i.gplink();var l=t("[data-gplink-rm]");null!=l&&l.length>0&&t(document).on("click","[data-gplink-rm]",function(a){a.preventDefault();var i=t(this).attr("data-gplink-rm");if(null!=i&&""!=i)if("clear-all"==i){var l=location.protocol+"//"+location.host+location.pathname;window.history.pushState({path:l},"",l)}else{var n=window.location.href;gplinkRemoveParam(i,n)}})})(jQuery);