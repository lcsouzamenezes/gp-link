/*
  Get Param Link Change - jQuery Plugin (https://github.com/ucoder92/gp-link)
  Copyright (c) 2019 Ulugbek Nuriddinov (ucoder92@gmail.com)
  Licensed under the MIT license
  Version: 1.0.1
*/
(function(t){function a(t){var a=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!a.test(t)}function l(t,a){var l,i=a.split("?")[0],n=[],e=-1!==a.indexOf("?")?a.split("?")[1]:"";if(""!==e){n=e.split("&");for(var r=n.length-1;r>=0;r-=1)l=n[r].split("=")[0],l===t&&n.splice(r,1);i=i+"?"+n.join("&")}return i}function i(t){for(var a=window.location.search.substring(1),l=a.split("&"),i=0;i<l.length;i++){var n=l[i].split("=");if(n[0]==t)return n[1];if(""==n[1])return!0}return!1}var n=location.protocol+"//"+location.host+location.pathname;t.fn.gplink=function(l){this.click(function(e){e.preventDefault();var r="",o="",h={},p=t(this).attr("href"),u=t(this).attr("data-gplink-param"),s="",f=t(this).attr("data-gplink-value"),d="",c=t(this).attr("data-gplink-full"),w="";if("object"==typeof l&&(h=l),null!=h.type&&h.type&&(r=h.type),null!=p&&""!=p&&a(p)?o=p:null!=h.href&&""!=h.href&&a(h.href)?o=h.href:null!=h.default&&""!=h.default&&a(h.default)&&(o=h.default),null!=u&&""!=u&&(s=u),null!=f&&""!=f&&(d=f),null!=c&&""!=c&&(w=c,r||f&&f||(r="full")),o&&"full"==r)window.history.pushState({path:o},"",o);else if(s&&d)if("current"==w){var v=n+"?"+s+"="+d;window.history.pushState({path:v},"",v)}else if(a(w)){v=w+"?"+s+"="+d;window.history.pushState({path:v},"",v)}else{var g=window.location.href,y=i(s);if(!1===y)if(location.search){var k=g+"&"+s+"="+d;window.history.pushState({path:k},"",k)}else{k=g+"?"+s+"="+d;window.history.pushState({path:k},"",k)}else{var m=location.href.replace(s+"="+y,s+"="+d);window.history.pushState({path:m},"",m)}}})};var e=t("[data-gplink-param], [data-gplink-full]");null!=e&&e.length>0&&e.gplink();var r=t("[data-gplink-rm]");null!=r&&r.length>0&&t(document).on("click","[data-gplink-rm]",function(a){a.preventDefault();var i=t(this).attr("data-gplink-rm");if(null!=i&&""!=i)if("clear-all"==i){var n=location.protocol+"//"+location.host+location.pathname;window.history.pushState({path:n},"",n)}else{var e=window.location.href,r=l(i,e);window.history.pushState({path:r},"",r)}})})(jQuery);